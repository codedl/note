+ 缓存穿透  
缓存穿透指用户请求的是redis和数据库中都没有的数据，此时的查询操作是无意义的。对用户的查询操作进行校验，如果数据库没有则不去查询；如果数据库和缓存都没有数据，可以在缓存中设置key为null返回给用户。
+ 缓存击穿  
缓存击穿指缓存中没有但是数据库中有数据，此时对数据的查询请求变多，出现性能问题。可以延长key的过期时间；服务降级；到数据库查询数据时加锁，然后将从数据库中查到的数据缓存下来。
+ 持久化  
RDB：创建(fork)一个子进程来进行持久化，会先将数据写入一个到一个临时文件(dump.rdb)中,待持久化过程结束后，再用本次的临时文件替换上次持久化后的文件。
AOF：将客户端的每一个写操作命令以日志的形式记录下来，追加到appendonly.aof的文件末尾，在redis服务器重启时，会加载aof文件中的所有命令，来达到数据恢复的目的
+ 集群部署的方式及优缺点  
   1. 主从模式：优点是通过读写分离进行数据备份，可以提高效率；缺点是当主节点挂掉后，从节点无法自动切换成主节点，需要人工手动干预
   2. 哨兵模式：优点是能够解决主从模式中主节点宕机后需要手动切换成主节点的问题；缺点是只有一个主节点处理写请求，每个节点存储的是全量数据浪费内存
   3. cluster模式：优点是可以按slot将数据存储到多个节点，读写数据的效率就会高很多；缺点是每个节点的数据持久化都是异步的，不保证数据的强一致性。
+ redis数据持久化的过程  
RDB：save命令直接调用rdbsave方法，此时会阻塞Redis主进程，直至快照文件生成；bgsave命令会fork出一个子进程，由fork出来的子进程调用rdbsave。父进程会继续响应来自客户端的读写请求。子进程完成RDB文件生成之后会给父进程发送信号，通知父进程保存完成。
AOF：always：始终同步，每次redis的写入都会立刻记入日志，性能较差但数据完整性比较好；everysec：每秒同步，每秒记入日志一次，如果宕机，本秒的数据可能丢失
+ redis高性能原理  
redis是基于内存的操作，只有一个单线程避免线程切换导致的cpu开销，采用的io多路复用的机制
+ redis怎么保证数据一致性